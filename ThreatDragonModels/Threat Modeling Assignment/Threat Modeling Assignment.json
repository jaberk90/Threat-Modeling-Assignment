{
  "version": "2.5.0-RC1",
  "summary": {
    "title": "Threat Modeling Assignment",
    "owner": "Jaber Kaal",
    "description": "This system is a simple web application that provides a login page for users. It uses an open source authentication component to validate credentials against a database. If valid, the user is shown a message-of-the-day retrieved from the database, and they may submit comments that are also stored in the database. The model highlights the data flows between the client browser, the application, the authentication component, and the database, along with potential threats using the STRIDE framework.",
    "id": 0
  },
  "detail": {
    "contributors": [],
    "diagrams": [
      {
        "id": 0,
        "title": "Initial Threat Model Diagram",
        "diagramType": "STRIDE",
        "placeholder": "This diagram shows the data flow for the sample web application including login, open source authentication, message-of-the-day retrieval, and comments.",
        "thumbnail": "./public/content/images/thumbnail.stride.jpg",
        "version": "2.5.0-RC1",
        "description": "Actor: User Browser; Processes: Login Page, Web Application, Open Source Auth Component; Data Store: Database. Trust boundaries separate Internet, Application/Backend, and Database. Flows 1â€“12 cover login, credential check, MotD retrieval/display, and comment submission/ack.",
        "cells": [
          {
            "id": "boundary-internet",
            "shape": "trust-boundary-box",
            "position": { "x": 40, "y": 10 },
            "size": { "width": 180, "height": 130 },
            "zIndex": -1,
            "visible": true,
            "data": { "type": "tm.BoundaryBox", "name": "Internet Boundary", "description": "", "isTrustBoundary": true, "hasOpenThreats": false },
            "tools": { "items": ["boundary", "button-remove"], "name": null }
          },
          {
            "id": "boundary-app",
            "shape": "trust-boundary-box",
            "position": { "x": 240, "y": 60 },
            "size": { "width": 520, "height": 220 },
            "zIndex": -1,
            "visible": true,
            "data": { "type": "tm.BoundaryBox", "name": "Application / Backend", "description": "", "isTrustBoundary": true, "hasOpenThreats": false },
            "tools": { "items": ["boundary", "button-remove"], "name": null }
          },
          {
            "id": "boundary-db",
            "shape": "trust-boundary-box",
            "position": { "x": 780, "y": 110 },
            "size": { "width": 200, "height": 150 },
            "zIndex": -1,
            "visible": true,
            "data": { "type": "tm.BoundaryBox", "name": "Database Boundary", "description": "", "isTrustBoundary": true, "hasOpenThreats": false },
            "tools": { "items": ["boundary", "button-remove"], "name": null }
          },

          {
            "id": "actor-user",
            "shape": "actor",
            "position": { "x": 80, "y": 40 },
            "size": { "width": 120, "height": 60 },
            "zIndex": 1,
            "visible": true,
            "data": { "type": "tm.Actor", "name": "User Browser", "description": "", "hasOpenThreats": false },
            "tools": { "items": ["actor", "button-remove"], "name": null }
          },

          {
            "id": "process-login",
            "shape": "process",
            "position": { "x": 300, "y": 90 },
            "size": { "width": 140, "height": 70 },
            "zIndex": 2,
            "visible": true,
            "data": { "type": "tm.Process", "name": "Login Page", "description": "Collects username/password and forwards to auth", "hasOpenThreats": false },
            "tools": { "items": ["process", "button-remove"], "name": null }
          },
          {
            "id": "process-app",
            "shape": "process",
            "position": { "x": 300, "y": 180 },
            "size": { "width": 160, "height": 80 },
            "zIndex": 2,
            "visible": true,
            "data": { "type": "tm.Process", "name": "Web Application", "description": "Handles MotD display and comment submission", "hasOpenThreats": false },
            "tools": { "items": ["process", "button-remove"], "name": null }
          },
          {
            "id": "process-auth",
            "shape": "process",
            "position": { "x": 520, "y": 140 },
            "size": { "width": 200, "height": 80 },
            "zIndex": 2,
            "visible": true,
            "data": { "type": "tm.Process", "name": "Open Source Auth Component", "description": "Validates credentials against DB records", "hasOpenThreats": true },
            "tools": { "items": ["process", "button-remove"], "name": null }
          },

          {
            "id": "store-db",
            "shape": "datastore",
            "position": { "x": 820, "y": 150 },
            "size": { "width": 140, "height": 80 },
            "zIndex": 2,
            "visible": true,
            "data": { "type": "tm.Store", "name": "Database", "description": "Users, password hashes, MotD, Comments", "hasOpenThreats": false },
            "tools": { "items": ["datastore", "button-remove"], "name": null }
          },

          { "id": "flow-1",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "1) Login POST (username, password)" }, "source": { "cell": "actor-user" },   "target": { "cell": "process-login" } },
          { "id": "flow-2",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "2) Send credentials to Auth" },          "source": { "cell": "process-login" }, "target": { "cell": "process-auth" } },
          { "id": "flow-3",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "3) Query user (hash/salt)" },            "source": { "cell": "process-auth" },  "target": { "cell": "store-db" } },
          { "id": "flow-4",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "4) Result (match / no match)" },         "source": { "cell": "store-db" },      "target": { "cell": "process-auth" } },
          { "id": "flow-5",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "5) Auth decision" },                     "source": { "cell": "process-auth" },  "target": { "cell": "process-app" } },
          { "id": "flow-6",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "6) Read MotD" },                         "source": { "cell": "process-app" },   "target": { "cell": "store-db" } },
          { "id": "flow-7",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "7) MotD data" },                         "source": { "cell": "store-db" },      "target": { "cell": "process-app" } },
          { "id": "flow-8",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "8) MotD response to Browser" },          "source": { "cell": "process-app" },   "target": { "cell": "actor-user" } },
          { "id": "flow-9",  "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "9) Comment POST" },                      "source": { "cell": "actor-user" },    "target": { "cell": "process-app" } },
          { "id": "flow-10", "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "10) Insert comment" },                   "source": { "cell": "process-app" },   "target": { "cell": "store-db" } },
          { "id": "flow-11", "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "11) Ack / Comment ID" },                 "source": { "cell": "store-db" },      "target": { "cell": "process-app" } },
          { "id": "flow-12", "shape": "flow", "zIndex": 3, "data": { "type": "tm.Flow", "name": "12) Comment ack to Browser" },           "source": { "cell": "process-app" },   "target": { "cell": "actor-user" } }
        ]
      }
    ],
    "diagramTop": 2,
    "reviewer": "Todd Wolfe",
    "threatTop": 0
  }
}
